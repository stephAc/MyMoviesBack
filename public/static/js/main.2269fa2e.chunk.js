(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(22).concat([function(e,t,n){e.exports=n.p+"static/media/app_logo.4fc6ddfb.bmp"},function(e,t,n){e.exports=n(77)},,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(19),l=n.n(r),o=(n(28),n(2)),i=n(3),s=n(5),u=n(4),m=n(6),h=n(13),d="https://api.themoviedb.org/3/",p="?api_key=22232165bd2420fd47b1eb7520ab231c",f="movie/popular",g=(n(30),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={},n.handleScroll=function(){document.body.scrollTop>200||document.documentElement.scrollTop>200?document.getElementById("returnTopBtn").style.display="block":document.getElementById("returnTopBtn").style.display="none"},n.hover=function(e){e.target.style.opacity="1"},n.notHover=function(e){e.target.style.opacity="0.5"},n.topFunction=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){return c.a.createElement("button",{className:"btnReturnTop",type:"button",onClick:this.topFunction,onMouseOver:this.hover,onMouseOut:this.notHover,id:"returnTopBtn"},"^")}}]),t}(a.Component)),v=n(78),E=(n(32),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(v.a,{to:"/film/description/".concat(this.props.film.id)},c.a.createElement("img",{src:this.props.film.poster_path?"".concat("https://image.tmdb.org/t/p/").concat("w500").concat(this.props.film.poster_path):"../assets/logos/app_logo.bmp",alt:"",width:"95%",className:"posterHover"})))}}]),t}(a.Component)),y=n(12),b=(n(36),n(8)),j=n(17),O=c.a.createContext(),w=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={name:"",log:!1,idUser:""},n.logIn=function(e){n.setState({log:e})},n.logOut=function(e){n.setState({log:e,name:"",idUser:""}),localStorage.clear(),window.location.replace("http://localhost:4000/")},n.connexion=function(e){e.preventDefault();var t=new FormData(e.target),n={},a=!0,c=!1,r=void 0;try{for(var l,o=t.entries()[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var i=l.value,s=Object(j.a)(i,2),u=s[0],m=s[1];n[u]=m}}catch(h){c=!0,r=h}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}fetch("http://localhost:4000/login",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){e?(localStorage.setItem("name",e[0]),localStorage.setItem("idUser",e[1]),window.location.replace("http://localhost:4000/")):alert("Identifiant ou mot de passe incorrect")}).catch(function(e){return console.log("fetch error "+e.message)})},n.checkForm=function(e,t,a){e.preventDefault();for(var c=!0,r=document.getElementById("formInscription").getElementsByTagName("input"),l=0;l<r.length;l++)c&&(c="validInput"===r[l].className);c?t===a?n.inscription(e):(document.getElementById("inputConfirmedPwdInscription").className="invalidInput",alert("Mot de passe non confirm\xe9")):alert("Champ(s) mal saisis")},n.inscription=function(e){var t=new FormData(e.target),a={},c=!0,r=!1,l=void 0;try{for(var o,i=t.entries()[Symbol.iterator]();!(c=(o=i.next()).done);c=!0){var s=o.value,u=Object(j.a)(s,2),m=u[0],h=u[1];a[m]=h}}catch(d){r=!0,l=d}finally{try{c||null==i.return||i.return()}finally{if(r)throw l}}fetch("http://localhost:4000/mymovies/inscription",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){console.log(e),e?(console.log("inscription"),n.inscriptionConnexion(a)):alert("Identifiant d\xe9j\xe0 pris")}).catch(function(e){return console.log("fetch error "+e.message)})},n.inscriptionConnexion=function(e){fetch("http://localhost:4000/autoconnexion",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){localStorage.setItem("name",e[0]),localStorage.setItem("idUser",e[1]),window.location.replace("http://localhost:4000/")}).catch(function(e){return console.log("fetch error "+e.message)})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("name"),t=localStorage.getItem("idUser");this.setState(function(){return{name:e,idUser:t}}),null===e?this.setState(function(){return{log:!1}}):this.setState(function(){return{log:!0}})}},{key:"render",value:function(){return c.a.createElement(O.Provider,{value:{state:this.state,logIn:this.logIn,logOut:this.logOut,connexion:this.connexion,checkForm:this.checkForm,deleteUser:this.deleteUser}},this.props.children)}}]),t}(a.Component),N=O,S=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={logName:"",logPwd:""},n.handleChange=function(e){var t=e.target.name;n.setState(Object(y.a)({},t,e.target.value))},n.handleClose=function(){document.getElementById("logForm").style.display="none"},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"formStyle",id:"logForm"},c.a.createElement("h2",{className:"title flexRow"},"Connexion",c.a.createElement("button",{className:"btnClose",onClick:this.handleClose},c.a.createElement(b.b,{className:"iconCloseLog"}))),c.a.createElement(N.Consumer,null,function(t){return c.a.createElement("form",{onSubmit:function(e){return t.connexion(e)}},c.a.createElement("input",{className:"styleBox",type:"text",name:"logName",value:e.state.logName,onChange:e.handleChange,placeholder:"Identifiant"}),c.a.createElement("input",{className:"styleBox",type:"password",name:"logPwd",value:e.state.logPwd,onChange:e.handleChange,placeholder:"Mot de passe"}),c.a.createElement("button",{className:"btnSubmit"},"S'identifier"),c.a.createElement(v.a,{to:"/mymovies/inscription"},c.a.createElement("div",{className:"accountLink"},"S'inscrire ?")))}))}}]),t}(a.Component),C=(n(38),n(40),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={},n.handleOpenSlideBar=function(){var e=document.getElementById("sideBar"),t=document.getElementById("btnOpenSideBar");e.style.width="0px"===e.style.width?"150px":"0px",t.style.display="none"},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("button",{className:"btnCircleSide",id:"btnOpenSideBar",onClick:this.handleOpenSlideBar},c.a.createElement(b.e,{className:"iconSideBare"}))}}]),t}(a.Component)),I=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={movies:[],actualPage:0,totalPageRequest:0,fetching:!1},n.loadMorePoster=function(){if(!n.state.fetching){var e="".concat(d).concat(f).concat(p,"&page=").concat(n.state.actualPage+1);n.getMoviePopular(e)}},n.handleScroll=function(){var e="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,t=document.body,a=document.documentElement,c=Math.max(t.scrollHeight,t.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight);e+window.pageYOffset>=c-20&&n.loadMorePoster()},n.getMoviePopular=function(e){n.setState({fetching:!0}),fetch(e).then(function(e){return e.json()}).then(function(e){n.setState(function(t){return{movies:Object(h.a)(t.movies).concat(Object(h.a)(e.results)),actualPage:e.page,totalPageRequest:e.total_pages,fetching:!1}})})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll);var e="".concat(d).concat(f).concat(p,"&page=1");this.getMoviePopular(e)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){return c.a.createElement(a.Fragment,null,c.a.createElement(S,null),c.a.createElement(C,null),c.a.createElement("div",{className:"gridHome"},this.state.movies.map(function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(E,{film:e}))})),c.a.createElement(g,null))}}]),t}(a.Component),k=n(82),B=n(79),F=(n(42),n(44),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"containerActor"},c.a.createElement("img",{src:this.props.actor.profile_path?"".concat("https://image.tmdb.org/t/p/").concat("w154").concat(this.props.actor.profile_path):"/pics/no_image.png",alt:"",width:"154px"}),c.a.createElement("div",{className:"nameStyleContainer"},c.a.createElement("p",null,this.props.actor.name)," ",c.a.createElement("br",null),c.a.createElement("p",null,"Character : ",this.props.actor.character)))}}]),t}(a.Component)),x=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={id:n.props.match.params.idFilm,film:"",actors:"",idUser:""},n.getRequestFilm=function(e){fetch(e).then(function(e){return e.json()}).then(function(e){n.setState({film:e})})},n.fetchUserFilm=function(){var e="http://localhost:4000/towatchuserfilm/".concat(n.state.idUser);fetch(e,{mode:"cors"}).then(function(e){return e.json()}).then(function(e){n.checkUserList(e)}).catch(function(e){console.log("Request failed",e)})},n.checkUserList=function(e){e.find(function(e){return e===n.state.id})&&(document.getElementById("addFilm").style.display="none")},n.getRequestActors=function(e){fetch(e).then(function(e){return e.json()}).then(function(e){n.setState({actors:e.cast})})},n.addFilm=function(e){document.getElementById("addFilm").disabled=!0,document.getElementById("addFilm").innerHTML="Ajout\xe9 !",document.getElementById("addFilm").style.backgroundColor="Lime",document.getElementById("addFilm").style.color="black";var t={idUser:e,idFilm:n.state.id};fetch("http://localhost:4000/addfilm",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(t)})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.idUser&&this.setState(function(){return{idUser:e.props.idUser}},function(){return e.fetchUserFilm()});var t="".concat(d,"movie/").concat(this.state.id).concat(p,"&language=en-US"),n="".concat(d,"movie/").concat(this.state.id,"/credits?api_key=22232165bd2420fd47b1eb7520ab231c");this.getRequestFilm(t),this.getRequestActors(n)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement(S,null),c.a.createElement(C,null),c.a.createElement("div",{className:"container"},c.a.createElement("img",{className:"poster",src:this.state.film.poster_path?"".concat("https://image.tmdb.org/t/p/").concat("w500").concat(this.state.film.poster_path):"/pics/error.png",alt:"",width:"400px"}),c.a.createElement("div",{className:"childContainer"},c.a.createElement("p",{className:"filmTitle"},this.state.film.title),c.a.createElement("span",null,"Note : "),c.a.createElement("div",{className:"noteStyle"},this.state.film.vote_average,"/10"),c.a.createElement("br",null),c.a.createElement("p",null,"Date : ",this.state.film.release_date),c.a.createElement("br",null),c.a.createElement("p",null,this.state.film.overview),c.a.createElement(N.Consumer,null,function(t){return c.a.createElement(c.a.Fragment,null,t.state.log?c.a.createElement("button",{id:"addFilm",className:"btnAddFilm",onClick:function(){return e.addFilm(t.state.idUser)}},"To Watch +"):"")}))),this.state.actors.length?c.a.createElement("div",{className:"gridActor"},this.state.actors.map(function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(F,{actor:e}))})):c.a.createElement("div",null,c.a.createElement("p",null,"Actor not find")))}}]),t}(a.Component),D=(n(46),n(81)),A=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={movie:[],urlQuery:void 0,genre:void 0},n.fetchData=function(e){var t="";switch(e){case 0:t="".concat(d,"search/movie").concat(p,"&query=").concat(n.state.urlQuery,"&page=1&include_adult=false"),fetch(t).then(function(e){return e.json()}).then(function(e){console.log(e),n.setState({movie:e.results})}).catch(function(e){console.log("Request failed",e)});break;case 1:t="".concat(d,"discover/movie").concat(p,"&sort_by=popularity.desc&include_adult=false&with_genres=").concat(n.state.genre),fetch(t,{mode:"cors"}).then(function(e){return e.json()}).then(function(e){console.log(e),n.setState({movie:e.results})}).catch(function(e){console.log("Request failed",e)})}},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;void 0!==this.props.match.params.query?this.setState(function(){return{urlQuery:e.props.match.params.query}},function(){return e.fetchData(0)}):this.setState(function(){return{genre:e.props.match.params.genre}},function(){return e.fetchData(1)})}},{key:"componentDidUpdate",value:function(){var e=this;this.props.match.params.query!==this.state.urlQuery?this.setState(function(){return{urlQuery:e.props.match.params.query}},function(){return e.fetchData(0)}):this.props.match.params.genre!==this.state.genre&&this.setState(function(){return{genre:e.props.match.params.genre}},function(){return e.fetchData(1)})}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(S,null),c.a.createElement(C,null),this.state.movie.length?c.a.createElement("div",{className:"grid"},this.state.movie.map(function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(E,{film:e}))})):c.a.createElement("div",{className:"centerDiv"},c.a.createElement("img",{src:"/pics/error.png",alt:"Film not found",height:"300",width:"300",style:{borderRadius:10}})),c.a.createElement(g,null))}}]),t}(a.Component),U=Object(D.a)(A),M=(n(49),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={},n.handleClickHide=function(){var e=document.getElementById("sideBar"),t=document.getElementById("btnOpenSideBar");e.style.width="0px",t.style.display="block"},n.handleGenreResearch=function(e){n.props.history.push("/film/research/genre/".concat(e))},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"sideBar",id:"sideBar"},c.a.createElement("button",{className:"btnSideBar",onClick:this.handleClickHide},c.a.createElement(b.a,{className:"backArrIcon"})),c.a.createElement("ul",{className:"ulSideBar"},c.a.createElement("li",null,c.a.createElement("button",{className:"btnSideBar",onClick:function(){return e.handleGenreResearch(28)}},"Action")),c.a.createElement("li",null,c.a.createElement("button",{className:"btnSideBar",id:"adventure",onClick:function(){return e.handleGenreResearch(12)}},"Adventure")),c.a.createElement("li",null,c.a.createElement("button",{className:"btnSideBar",id:"animation",onClick:function(){return e.handleGenreResearch(16)}},"Animation")),c.a.createElement("li",null,c.a.createElement("button",{className:"btnSideBar",id:"comedy",onClick:function(){return e.handleGenreResearch(35)}},"Comedy")),c.a.createElement("li",null,c.a.createElement("button",{className:"btnSideBar",id:"horror",onClick:function(){return e.handleGenreResearch(27)}},"Horror"))))}}]),t}(a.Component)),P=Object(D.a)(M),T=(n(51),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={logName:"",logPwd:""},n.handleChange=function(e){var t=e.target.name;n.setState(Object(y.a)({},t,e.target.value))},n.handleClose=function(){document.getElementById("logForm").style.display="none"},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(C,null),c.a.createElement(N.Consumer,null,function(t){return c.a.createElement("form",{className:"formDisplay",onSubmit:function(e){return t.connexion(e)}},c.a.createElement("h2",{className:"titleStyle"},"Connexion"),c.a.createElement("input",{className:"inputStyle",type:"text",name:"logName",value:e.state.logName,onChange:e.handleChange,placeholder:"Identifiant"}),c.a.createElement("input",{className:"inputStyle",type:"password",name:"logPwd",value:e.state.logPwd,onChange:e.handleChange,placeholder:"Mot de passe"}),c.a.createElement("button",{className:"btnSubmit"},"S'identifier"),c.a.createElement(v.a,{to:"/mymovies/inscription"},c.a.createElement("div",{className:"accountLink"},"S'inscrire ?")))}))}}]),t}(a.Component)),L=(n(53),n(55),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={name:"",email:"",pwd:"",confirmedPwd:"",patterns:{name:/^.{4,12}$/,email:/.+@.+.(com|fr|co.uk)$/,pwd:/^((?=.*\d)(?=.*[A-Z])(?=.*[a-z]).{8,16})$/,confirmedPwd:/^((?=.*\d)(?=.*[A-Z])(?=.*[a-z]).{8,16})$/}},n.handleInput=function(e){var t=e.target.name,a=e.target.value;n.validate(t,n.state.patterns[t],a),n.setState(Object(y.a)({},t,a))},n.validate=function(e,t,n){t.test(n)?document.getElementsByName(e)[0].className="validInput":document.getElementsByName(e)[0].className="invalidInput"},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(a.Fragment,null,c.a.createElement(C,null),c.a.createElement(S,null),c.a.createElement(N.Consumer,null,function(t){return c.a.createElement("form",{id:"formInscription",className:"displayFormInscripton",onSubmit:function(n){return t.checkForm(n,e.state.pwd,e.state.confirmedPwd)}},c.a.createElement("h2",{className:"titleInscription"},"Inscription"),c.a.createElement("div",null,c.a.createElement("input",{className:"inputStyleInscription",type:"text",name:"name",placeholder:"Nom",value:e.state.name,required:!0,onChange:e.handleInput}),c.a.createElement("span",{className:"obligatoire"},"*"),c.a.createElement("span",{className:"spanInfo"},"4 - 12 caract\xe8res")),c.a.createElement("div",null,c.a.createElement("input",{className:"inputStyleInscription",type:"email",name:"email",value:e.state.email,placeholder:"E-mail",required:!0,onChange:e.handleInput}),c.a.createElement("span",{className:"obligatoire"},"*"),c.a.createElement("span",{className:"spanInfo"},"De la forme ....@... com | fr | co.uk")),c.a.createElement("div",null,c.a.createElement("input",{id:"inputPwdInscription",className:"inputStyleInscription",type:"password",name:"pwd",value:e.state.pwd,placeholder:"Password",required:!0,onChange:e.handleInput}),c.a.createElement("span",{className:"obligatoire"},"*"),c.a.createElement("span",{className:"spanInfo"},"1 Maj, 1 chiffre, 8 - 20 caract\xe8res")),c.a.createElement("div",null,c.a.createElement("input",{id:"inputConfirmedPwdInscription",className:"inputStyleInscription",type:"password",name:"confirmedPwd",value:e.state.confirmedPwd,placeholder:"Confirme password",required:!0,onChange:e.handleInput}),c.a.createElement("span",{className:"obligatoire"},"*"),c.a.createElement("span",{className:"spanInfo"},"1 Maj, 1min, 1 chiffre, 8 - 20 caract\xe8res")),c.a.createElement("button",{className:"btnSub"},"S'inscrire"))}))}}]),t}(a.Component)),q=(n(57),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={searchField:"",srchInput:[]},n.handleEntree=function(e){""!==n.state.searchField&&("Enter"!==e.key&&"click"!==e.type||(n.props.history.push("/film/research/".concat(n.state.searchField)),n.setState({searchField:""})))},n.handleInputChange=function(e){var t=e.target.value;n.setState({searchField:t}),t.length>=1&&n.getMoviePopular(t)},n.getMoviePopular=function(e){var t="".concat(d,"search/movie").concat(p,"&query=").concat(e,"&page=1&include_adult=false");fetch(t).then(function(e){return e.json()}).then(function(e){console.log(e),n.putInFormInfo(e.results)})},n.putInFormInfo=function(e){n.setState({srchInput:e.map(function(e){return e.title})}),console.log(n.state.srchInput)},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(C,null),c.a.createElement("div",{className:"containerSearch"},c.a.createElement("input",{type:"text",placeholder:"Search...",className:"inputSearchStyle",value:this.state.searchField,onChange:this.handleInputChange,onKeyPress:this.handleEntree,list:"srchInputList",name:"srchInputList"}),this.state.srchInput.length>0?c.a.createElement("datalist",{id:"srchInputList"},this.state.srchInput.map(function(e,t){return c.a.createElement("option",{key:t,value:e})})):"",c.a.createElement("button",{id:"btnReSearch",className:"buttonSearchStyle",onClick:this.handleEntree},c.a.createElement(b.d,{className:"iconSearch"}))))}}]),t}(a.Component)),R=(n(59),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={movie:[],id:""},n.fetchData=function(){var e="http://localhost:4000/towatchuserfilm/".concat(n.state.id);fetch(e,{mode:"cors"}).then(function(e){return e.json()}).then(function(e){n.fetchFilm(e.reverse())}).catch(function(e){console.log("Request failed",e)})},n.fetchFilm=function(e){e.forEach(function(e){var t="".concat(d,"movie/").concat(e).concat(p,"&language=en-US");fetch(t).then(function(e){return e.json()}).then(function(e){n.setState(function(t){return{movie:Object(h.a)(t.movie).concat([e])}})})})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState(function(){return{id:e.props.match.params.id}},function(){return e.fetchData()})}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(S,null),c.a.createElement(C,null),this.state.movie.length?c.a.createElement("div",{className:"displayPage"},c.a.createElement("h1",{className:"titleWatch"},"My To Watch List"),c.a.createElement("div",{className:"gridWatch"},this.state.movie.map(function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(E,{film:e}))}))):c.a.createElement("div",{className:"centerDivWatch"},c.a.createElement("h1",{className:"titleWatch"},"My To Watch List"),c.a.createElement(v.a,{to:"/"},c.a.createElement("button",{className:"findFilmBtn"},"Trouver des films"))),c.a.createElement(g,null))}}]),t}(a.Component)),_=Object(D.a)(R),H=(n(61),n(63),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleInput=function(e){var t=e.target.name;n.setState(Object(y.a)({},t,e.target.value))},n.handleClose=function(){n.setState({mdp:""}),document.getElementById("popUpDelete").style.display="none"},n.handleDelete=function(e){var t={id:e,mdp:n.state.mdp};fetch("http://localhost:4000/confirmuser",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(t){1===t?n.deleteUser(e):console.log("pas trouve")})},n.deleteUser=function(e){var t="http://localhost:4000/deleteuser/".concat(e);fetch(t,{mode:"cors",method:"DELETE"}).then(function(){localStorage.clear(),window.location.replace("http://localhost:4000/")}).catch(function(e){return console.log("fetch error "+e.message)})},n.state={mdp:""},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"popUpDelete",id:"popUpDelete"},c.a.createElement("p",null,"Entrez votre mot de passe pour confirmer : "),c.a.createElement("br",null),c.a.createElement("input",{className:"inputDelete",type:"password",placeholder:"Mot de passe",name:"mdp",value:this.state.mdp,onChange:this.handleInput}),c.a.createElement("div",{className:"btnDeleteDisplay"},c.a.createElement(N.Consumer,null,function(t){return c.a.createElement("button",{onClick:function(){return e.handleDelete(t.state.idUser)},className:"popDeleteBtn"},"Supprimer")}),c.a.createElement("button",{style:{backgroundColor:"red"},onClick:this.handleClose,className:"popDeleteBtn"},"Cancel")))}}]),t}(a.Component)),W=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={idUser:"",name:"",email:""},n.fetchData=function(){var e="http://localhost:4000/userinfo/".concat(n.state.id);fetch(e,{mode:"cors"}).then(function(e){return e.json()}).then(function(e){n.setState(function(){return{name:e[0],email:e[1]}})})},n.deleteAction=function(){var e=document.getElementById("popUpDelete");e.style.display="none"===e.style.display||""===e.style.display?"block":"none"},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState(function(){return{id:e.props.match.params.id}},function(){return e.fetchData()})}},{key:"render",value:function(){return c.a.createElement("div",{style:{width:"100%"}},c.a.createElement(C,null),c.a.createElement("div",{className:"userContainer"},c.a.createElement("div",{className:"userBack"},c.a.createElement("img",{className:"roundImageUser",src:"/pics/avatar.png",width:"90px",height:"90px",alt:""})),c.a.createElement("div",{className:"userInfo"},c.a.createElement("div",null,c.a.createElement("p",null,"Name : ",this.state.name),c.a.createElement("br",null),c.a.createElement("p",null,"Email : ",this.state.email)),c.a.createElement("button",{onClick:this.deleteAction,className:"userDeleteBtn"},"Supprimer compte"))),c.a.createElement(H,null))}}]),t}(a.Component),J=function(){return c.a.createElement("div",{className:"containerBody"},c.a.createElement(N.Consumer,null,function(e){return c.a.createElement(k.a,null,c.a.createElement(B.a,{exact:!0,path:"/",component:I}),c.a.createElement(B.a,{exact:!0,path:"/login",component:T}),c.a.createElement(B.a,{exact:!0,path:"/moncompte/:id",component:W}),e.state.log?c.a.createElement(B.a,{exact:!0,path:"/film/description/:idFilm",render:function(t){return c.a.createElement(x,Object.assign({},t,{idUser:e.state.idUser}))}}):c.a.createElement(B.a,{exact:!0,path:"/film/description/:idFilm",component:x}),c.a.createElement(B.a,{exact:!0,path:"/film/research/:query",component:U}),c.a.createElement(B.a,{exact:!0,path:"/film/research/genre/:genre",component:U}),c.a.createElement(B.a,{exact:!0,path:"/film/search",component:q}),c.a.createElement(B.a,{exact:!0,path:"/mymovies/inscription",component:L}),c.a.createElement(B.a,{exact:!0,path:"/towatch/:id",component:_}))}),c.a.createElement(P,null))},G=function(){return c.a.createElement("div",null,"TmdbLogo")},Q=(n(65),function(){return c.a.createElement("div",{className:"footerStyle"},c.a.createElement(G,null),"v1.0.0 \xa9 St\xe9phane ACHARI")}),$=n(22),z=n.n($),K=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{to:"/"},c.a.createElement("img",{src:z.a,alt:"app_logo",height:"40",width:"52"})))},Z=(n(67),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={searchField:"",srchInput:[]},n.timeOut=null,n.handleEntree=function(e){""!==n.state.searchField&&("Enter"!==e.key&&"click"!==e.type||(n.props.history.push("/film/research/".concat(n.state.searchField)),n.setState({searchField:""})))},n.handleInputChange=function(e){n.setState({searchField:e.target.value}),clearTimeout(n.timeOut),n.timeOut=setTimeout(function(){n.state.searchField.length>=1&&n.getMovie(n.state.searchField)},500)},n.getMovie=function(e){var t="".concat(d,"search/movie").concat(p,"&query=").concat(e,"&page=1&include_adult=false");fetch(t).then(function(e){return e.json()}).then(function(e){console.log(e),n.putInFormInfo(e.results)})},n.putInFormInfo=function(e){n.setState({srchInput:e.map(function(e){return e.title})}),console.log(n.state.srchInput)},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.searchField,n=e.srchInput;return c.a.createElement("div",{className:"flexContainerSearch"},c.a.createElement("input",{className:"searchBar searchBarDisplay",type:"text",placeholder:"Search..",value:t,onChange:this.handleInputChange,onKeyPress:this.handleEntree,list:"srchInputList",name:"srchInputList"}),n.length>0?c.a.createElement("datalist",{id:"srchInputList"},n.map(function(e,t){return c.a.createElement("option",{key:t,value:e})})):"",c.a.createElement("button",{id:"btnReSearch",className:"btnSearch searchBarDisplay",onClick:this.handleEntree},c.a.createElement(b.d,{className:"iconSearch"})))}}]),t}(a.Component)),Y=Object(D.a)(Z),V=(n(69),n(71),n(73),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={},n.handleClick=function(){var e=document.getElementById("sideBar"),t=document.getElementById("btnOpenSideBar");e.style.width="0px"===e.style.width?"150px":"0px",t.style.display="0px"===e.style.width?"block":"none"},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",{className:"btnIconMenu",onClick:this.handleClick},c.a.createElement(b.c,{className:"iconStyleMenu"})))}}]),t}(a.Component)),X=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).dropMenu=function(){document.getElementById("myDropdown").classList.toggle("show")},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("nav",{className:"headerStyle flexContainer"},c.a.createElement(K,null),c.a.createElement(Y,null),c.a.createElement("ul",{className:"flexContainer"},c.a.createElement("li",null,c.a.createElement(v.a,{to:"/film/search"},c.a.createElement(b.d,{className:"iconAvatar"}))),c.a.createElement(N.Consumer,null,function(t){return c.a.createElement(c.a.Fragment,null,t.state.log?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement("div",{className:"dropdown"},c.a.createElement("button",{onClick:e.dropMenu,className:"dropbtn"},c.a.createElement("span",null,t.state.name),c.a.createElement("br",null),c.a.createElement(b.f,{className:"iconAvatarLog"})),c.a.createElement("div",{id:"myDropdown",className:"dropdown-content"},c.a.createElement(v.a,{to:"/towatch/".concat(t.state.idUser),style:{textDecoration:"none"}},c.a.createElement("button",{className:"subBtnMenu"},"To watch")),c.a.createElement(v.a,{to:"/moncompte/".concat(t.state.idUser),style:{textDecoration:"none"}},c.a.createElement("button",{className:"subBtnMenu"},"Mon compte")),c.a.createElement("button",{className:"subBtnMenu",onClick:function(){return t.logOut(!1)}},"D\xe9connexion"))))):c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement("button",{className:"btnStyle",onClick:ee},"Connexion")),c.a.createElement("li",null,c.a.createElement(v.a,{to:"/login"},c.a.createElement(b.f,{className:"iconAvatar"})))))}),c.a.createElement("li",null,c.a.createElement(V,null))))}}]),t}(a.Component);function ee(){var e=document.getElementById("logForm");"http://localhost:4000/film/login"!==document.location.href&&(e.style.display="none"===e.style.display||""===e.style.display?"block":"none")}window.onclick=function(e){if(!e.target.matches(".dropbtn")){var t,n=document.getElementsByClassName("dropdown-content");for(t=0;t<n.length;t++){var a=n[t];a.classList.contains("show")&&a.classList.remove("show")}}};n(75);var te=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement(w,null,c.a.createElement("div",{className:"App"},c.a.createElement(X,null),c.a.createElement(J,null),c.a.createElement(Q,null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=n(80);l.a.render(c.a.createElement(ne.a,null,c.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}]),[[23,2,1]]]);
//# sourceMappingURL=main.2269fa2e.chunk.js.map